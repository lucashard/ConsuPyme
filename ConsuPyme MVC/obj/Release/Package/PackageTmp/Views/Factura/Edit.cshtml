@model ConsuPyme_MVC.Models.Facturas

@{
    ViewBag.Title = "Editar";
    WebGrid grid = new WebGrid(source: @ViewBag.Productos, rowsPerPage: 1);
}

<h2>Editar Factura</h2>
<head>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<link href="@Url.Content("~/Content/layout.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery-2.0.2.min.js")" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.webgrid input:checkbox[name=visible]').each(function () {
                var Visibilidad = $(this).attr('visibilidad');
                if (Visibilidad == "True") {
                    $(this).attr('checked','checked');
                }
            });
        });
    </script>
</head>

@using (Html.BeginForm()) {
   

        @Html.HiddenFor(model => model.Id)

        <div class="editor-label">
        @Html.LabelFor(model => model.FacturasTotales.Nombre)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.FacturasTotales.Nombre)
        @Html.ValidationMessageFor(model => model.FacturasTotales.Nombre)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.FacturasTotales.N_Orden)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.FacturasTotales.N_Orden)
        @Html.ValidationMessageFor(model => model.FacturasTotales.N_Orden)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.FacturasTotales.Numero_Factura)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.FacturasTotales.Numero_Factura)
        @Html.ValidationMessageFor(model => model.FacturasTotales.Numero_Factura)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.FacturasTotales.Creacion)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.FacturasTotales.Creacion)
        @Html.ValidationMessageFor(model => model.FacturasTotales.Creacion)
    </div>


    <div class="editor-label">
        @Html.LabelFor(model => model.Flete)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Flete)
        @Html.ValidationMessageFor(model => model.Flete)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.Envalaje)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Envalaje)
        @Html.ValidationMessageFor(model => model.Envalaje)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.Cantidad)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Cantidad)
        @Html.ValidationMessageFor(model => model.Cantidad)
    </div>
    @Html.HiddenFor(model=>model.Factura_Total_Id)
    @* 
    <div class="editor-label">
        @Html.Label("Acarreo")
    </div>
    @Html.DropDownList("Acareo", (SelectList) ViewBag.Acarreo)

    <div class="editor-label">
        @Html.Label("Deposito")
    </div>
    @Html.DropDownList("Deposito", (SelectList) ViewBag.Deposito)

    <div class="editor-label">
        @Html.Label("Despacho")
    </div>
    @Html.DropDownList("Despacho", (SelectList) ViewBag.Despacho)

    <div class="editor-label">
        @Html.Label("Posicion Arancelaria")
    </div>
    @Html.DropDownList("Posicion", (SelectList) ViewBag.Posicion)

  
    
    *@
    @grid.GetHtml(
    tableStyle: "webgrid",
headerStyle: "webgrid-header",
footerStyle: "webgrid-footer",
alternatingRowStyle: "webgrid-alternating-row",
selectedRowStyle: "webgrid-selected-row",
rowStyle: "webgrid-row-style",
columns:
            grid.Columns(
            grid.Column("Codigo", "Codigo", canSort: false),
            grid.Column("Descripcion", "Descripcion", canSort: false),
            grid.Column("Num_Lote", "Num_Lote", canSort: false),
            grid.Column("Precio_Unitario", "Precio_Unitario", canSort: false),
            grid.Column("Seleccionar",canSort:false,format: @<input type="checkbox" name="visible" value="@item.Id" visibilidad="@item.Visible" />)),
            htmlAttributes: new { id = "Id" }
            )
    

        <p>
            <input type="submit" value="Guardar" />
        </p>
    
}

<div>
    @Html.ActionLink("Volver", "Index")
</div>
